"use strict";(self.webpackChunkreackman_s_network=self.webpackChunkreackman_s_network||[]).push([[311],{8778:function(e,r,n){n.d(r,{z:function(){return o}});var s=n(1413),t=n(5987),a="button_button__yx2c5",c=n(184),u=["title","callback"],o=function(e){var r=e.title,n=e.callback,o=(0,t.Z)(e,u);return(0,c.jsx)("button",(0,s.Z)((0,s.Z)({className:a,onClick:n},o),{},{children:r}))}},2311:function(e,r,n){n.r(r),n.d(r,{default:function(){return w}});var s=n(2791),t=n(364),a="chat_chat__flfzg",c=n(9439),u="message_message__myEsC",o="message_userInfo__Np1Hf",i="message_photo__TDdeD",l=n(8617),f=n(184),m=(0,s.memo)((function(e){var r=e.message;return(0,f.jsxs)("div",{className:u,children:[(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("img",{className:i,src:r.photo||l,alt:"avatar"}),(0,f.jsx)("b",{children:r.userName})]}),(0,f.jsx)("p",{children:r.message})]})})),d="messages_messages__eyoMK",g=n(6916),h=(0,g.P1)((function(e){return e.chat.messages}),(function(e){return e})),v=(0,g.P1)((function(e){return e.chat.status}),(function(e){return e})),_=function(){var e=(0,t.v9)(h),r=(0,s.useRef)(null),n=(0,s.useState)(!1),a=(0,c.Z)(n,2),u=a[0],o=a[1];(0,s.useEffect)((function(){var e;u&&(null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]);var i=e.map((function(e,r){return(0,f.jsx)(m,{message:e},e.id)}));return(0,f.jsxs)("div",{className:d,onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!u&&o(!0):u&&o(!1)},children:[i,(0,f.jsx)("div",{ref:r})]})},j=n(8778),p="add-message-form_addMessageForm__KDiLk",x="add-message-form_messageField__2cHyC",b=n(7092),k=function(){var e=(0,s.useState)(""),r=(0,c.Z)(e,2),n=r[0],a=r[1],u=(0,t.v9)(v),o=(0,t.I0)();return(0,f.jsxs)("form",{className:p,children:[(0,f.jsx)("textarea",{className:x,onChange:function(e){return a(e.currentTarget.value)},value:n,rows:1}),(0,f.jsx)(j.z,{onClick:function(){n&&(o((0,b.bG)(n)),a(""))},title:"Send",type:"submit",disabled:"ready"!==u})]})},y=n(341),N=n(5180),w=function(){var e=(0,t.v9)(v),r=(0,t.v9)(N.Od),n=(0,t.I0)();return(0,s.useEffect)((function(){if(r)return n((0,b.WE)()),function(){n((0,b.R7)())}}),[]),"pending"===e?(0,f.jsx)(y.p,{}):(0,f.jsxs)("div",{className:a,children:["error"===e&&(0,f.jsx)("div",{children:"Some error occurred. Please refresh the page"}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(_,{}),(0,f.jsx)(k,{})]})]})}},8617:function(e,r,n){e.exports=n.p+"static/media/user.07e81e0122d1ff360bf2.jpg"},5987:function(e,r,n){n.d(r,{Z:function(){return t}});var s=n(3366);function t(e,r){if(null==e)return{};var n,t,a=(0,s.Z)(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(t=0;t<c.length;t++)n=c[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}}}]);
//# sourceMappingURL=311.3dcb2073.chunk.js.map